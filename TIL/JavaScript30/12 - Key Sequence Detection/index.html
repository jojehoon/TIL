<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>
<body>
<script>
  const pressed = [];
  const secretCode = 'wesbos';

  // window객체(eventTarget)에서 keyup(eventType)가 발생했을때 실행될 eventListener을 등록(addEventListener)
  window.addEventListener('keyup', (e) => {

    // 실행된 keyboardEvent.key 사용자가 누른 key 값을 Array에 추가
    pressed.push(e.key);

    // array.splice(start, deleteCount, item1, itme2, ...)
    // start : 배열의 변경을 시작하는 index, 음수의 경우 배열의 끝에서 부터 요소를 count
    // deleteCount : 배열에서 제거할 요소의 수, deleteCount가 start부터 남은 요소수 보다 많은 경울, 남은 요소를 모두 제거
    // 배열의 요소를 삭제(-7, 1), 끝에서 부터 7번째에서 요소 1개를 삭제, 항상 첫번째 요소가 삭제되고 배열의 length 6개로 출력된다 
    console.log(pressed.length, -secretCode.length - 1);
    pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length);

    // join() : 배열의 모든 요소를 연결해 하나의 문자열로 리턴
    // includes() : 지정된 문자열이 포함되어 있는지를 판단하고 그 결과를 true, false로 리턴
    // pressed 배열을 문자열로 변환하여 ''wesbos'가 있다면
    if(pressed.join('').includes(secretCode)){
      // console에 'DING DING!'을 출력
      console.log('DING DING!');
      // cornify_add()를 실행
      cornify_add();
    }
    console.log(pressed);
  });

  // 정리 : 동영상 길이도 적당하고 코드들도 간결해서 이해하기 쉬웠다
  // array.push(), array.splice(), string.join(), string.includes()

</script>
</body>
</html>
